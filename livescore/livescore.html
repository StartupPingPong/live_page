<head>
	<title>livescore</title>
</head>

<body>
	<div class="container">
		<header>
			<nav class="top-bar" role="navigation">
				<ul class="title-area">
					<li class="name">
						<h1><a href="/">SUPP</a></h1>
					</li>
				</ul>
				<section class="top-bar-section">
					<ul class="right">
						<li><a href="/game">Game List</a></li>
						<li><a href="/live">Live</a></li>
						<li><a href="/total">Total Score</a></li>
						{{#if currentUser}}
						<li><a href="/admin/game">Admin Game List</a></li>
						<li><a href="/admin/live">Admin Live</a></li>
						<li><a href="/admin/total">Admin Total Score</a></li>
						{{/if}}
					</ul>
				</section>
			</nav>
		</header>
	</div>
</body>

<template name="home">
	<div class="row">
		<div class="large-12 columns">
		</div>
	</div>
</template>

<template name="live">
	<div class="row">
		<div class="large-12 columns"><h1 class="text-center">{{livegame.gameType}}</h1></div>
	</div>
	<div class="row">
		<div class="large-6 columns">
			<h2 class="text-center">{{livegame.teamOne}}</h2>
			<h3 class="text-center">{{livegame.teamOneScore}}</h3>
		</div>
		<div class="large-6 columns">
			<h2 class="text-center">{{livegame.teamTwo}}</h2>
			<h3 class="text-center">{{livegame.teamTwoScore}}</h3>
		</div>
	</div>

</template>

<template name="liveGame">

	<div class="row">
		<div class="large-12 columns"><h1 class="text-center">{{game.gameType}}</h1></div>
	</div>
	<div class="row">
		<div class="large-6 columns">
			<h2 class="text-center">{{game.teamOne}}</h2>
			<h3 class="text-center">{{game.teamOneScore}}</h3>
		</div>
		<div class="large-6 columns">
			<h2 class="text-center">{{game.teamTwo}}</h2>
			<h3 class="text-center">{{game.teamTwoScore}}</h3>
		</div>
	</div>
	<div class="row">
		<div class="large-12 columns"><a href="/game" class="button">Back to game list</a></div>
	</div>
</template>

<template name="teamlist">
	<div class="row">
		<div class="large-12 columns">
			<ul>
				{{#each teams}}
				<li>{{name}} - {{totalScore}}</li>
				{{/each}}
			</ul>
		</div>
	</div>
</template>

<template name="gamelist">
	<div class="row">
		<div class="large-12 columns">
			<ul class="button-group round">
				<li><a href="#" class="button" data-name="pustervik">Pustervik</a></li>
				<li><a href="#" class="button" data-name="port">Port Du Soleil</a></li>
				<li><a href="#" class="button" data-name="park">Park Lane</a></li>
				<li><a href="#" class="button" data-name="clarion">Clarion Hotel Post</a></li>
			</ul>
			<h3 class="text-center">Event: {{currentLocation}}</h3>
		</div>
	</div>
	<div class="row">
		<div class="large-4 columns">
			<h2>Quarterfinals</h2>
			<ul>
				{{#each quarterFinalGames currentLocation}}
				{{>gameListItem}}
				{{/each}}
			</ul>
		</div>
		<div class="large-4 columns">
			<h2>Semifinals</h2>
			<ul>
				{{#each semiFinalGames currentLocation}}
				{{>gameListItem}}
				{{/each}}
			</ul>
		</div>
		<div class="large-4 columns">
			<h2>Grandfinal</h2>
			<ul>
				{{#each finalGames currentLocation}}
				{{>gameListItem}}
				{{/each}}
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="large-12 colums">
			<h2>Groupstage</h2>
			{{#each groupStageGames currentLocation}}
			{{>gameListItem}}
			{{/each}}
		</div>
	</div>
</template>

<template name="viewGame">
	<div class="row">
		<div class="row">
			<div class="large-12 columns"><h1 class="text-center">{{game.gameType}}</h1></div>
		</div>
		<div class="row">
			<div class="large-6 columns">
				<h2 class="text-center">{{game.teamOne}}</h2>
				<h3 class="text-center">{{game.teamOneScore}}</h3>
			</div>
			<div class="large-6 columns">
				<h2 class="text-center">{{game.teamTwo}}</h2>
				<h3 class="text-center">{{game.teamTwoScore}}</h3>
			</div>
		</div>
		<div class="row">
			<div class="large-12 columns"><a href="/game" class="button">Back to game list</a></div>
		</div>
	</div>
</template>

<template name="admin">
	{{#if currentUser}}
	<div class="row">
		<div class="large-12 columns">
			<a href="/admin/game" class="button tiny">Game List</a>
			<a href="/admin/live" class="button tiny">Live</a>
		</div>
	</div>
	{{else}}
	<div class="row">
	<div class="large-12 columns" style="text-align:center;">
		{{> loginButtons}}
	</div>
	</div>
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="adminLive">
	{{#if currentUser}}
	<div class="row">
		<div class="large-12 columns">
			<a href="/admin" class="button tiny">Back</a>
			<h1>{{livegame.gameType}} at {{livegame.eventLocation}}</h1>
			<h3>Game id: </h3><h3 id="liveGameID">{{livegame._id}}</h3>
		</div>
	</div>
	<div class="row">
		<div class="large-6 columns">
			<h2>{{livegame.teamOne}} - {{livegame.teamOneScore}}</h2>
			<input class="button tiny scoreOne" value="Score" data-name="{{teamOne}}" />
		</div>
		<div class="large-6 columns">
			<h2>{{livegame.teamTwo}} - {{livegame.teamTwoScore}}</h2>
			<input class="button tiny scoreTwo" value="Score" data-name="{{teamTwo}}" />
		</div>
	</div>
	{{else}}
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="adminGameList">
	{{#if currentUser}}
	<div class="row">
		<div class="large-3 columns">
			<a href="/game/new" class="button text-center">New Game</a>
			<a href="/admin" class="button tiny">Back</a>
		</div>
		<div class="large-9 columns">
			<ul class="button-group round">
				<li><a href="#" class="button location" data-location="pustervik">Pustervik</a></li>
				<li><a href="#" class="button location" data-location="port">Port Du Soleil</a></li>
				<li><a href="#" class="button location" data-location="park">Park Lane</a></li>
				<li><a href="#" class="button location" data-location="clarion">Clarion Hotel Post</a></li>
			</ul>
			<h3>Event: {{currentLocation}}</h3>
		</div>
	</div>
	<div class="row">
		<div class="large-4 columns">
			<h2>Quarterfinals</h2>
			<ul>
				{{#each quarterFinalGames currentLocation}}
				{{>adminGameListItem}}
				{{/each}}
			</ul>
		</div>
		<div class="large-4 columns">
			<h2>Semifinals</h2>
			<ul>
				{{#each semiFinalGames currentLocation}}
				{{>adminGameListItem}}
				{{/each}}
			</ul>
		</div>
		<div class="large-4 columns">
			<h2>Grandfinal</h2>
			<ul>
				{{#each finalGames currentLocation}}
				{{>adminGameListItem}}
				{{/each}}
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="large-12 colums">
			<h2>Groupstage</h2>
			{{#each groupStageGames currentLocation}}
			{{>adminGameListItem}}
			{{/each}}
		</div>
	</div>
	{{else}}
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="adminGameListItem">
	<li class="status-{{status}}">{{teamOne}} vs. {{teamTwo}}
		<input class="button tiny activate" value="Activate" data-id="{{_id}}" />
		<input class="button tiny alert delete" value="Delete" />
		<ul class="button-group">
			<li><a href="#" class="button tiny status" data-status="pre">Pre</a></li>
			<li><a href="#" class="button tiny status" data-status="active">Active</a></li>
			<li><a href="#" class="button tiny status" data-status="post">Post</a></li>
		</ul>
	</li>

</template>

<template name="gameListItem">
	<li class="status-{{status}}"><a href="/game/{{_id}}">{{teamOne}} vs. {{teamTwo}} : {{teamOneScore}} - {{teamTwoScore}}</a></li>
</template>

<template name="newgame">
	{{#if currentUser}}
	<div class="row">
		<div class="large-12 columns">
			<form action="/game">
				<label>Team 1
					<select name="teamOne">
						{{#each teams}}
						<option value={{name}}>{{name}}</option>
						{{/each}}
					</select>
				</label>
				<label>Team 2
					<select name="teamTwo">
						{{#each teams}}
						<option value={{name}}>{{name}}</option>
						{{/each}}
					</select>
				</label>
				<label>Game Type
					<select name="gameType">
						<option value="Groupstage">Groupstage</option>
						<option value="Quarterfinal">Quarterfinal</option>
						<option value="Semifinal">Semifinal</option>
						<option value="Grandfinal">Grandfinal</option>
					</select>
				</label>
				<label>Event Location
					<select name="eventLocation">
						<option value="pustervik">Pustervik</option>
						<option value="port">Port Du Soleil</option>
						<option value="park">Park Lane</option>
						<option value="clarion">Clarion Hotel Post</option>
					</select>
				</label>
				<input type="submit" class="button" value="Create game">
			</form>
		</div>
	</div>
	{{else}}
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="createTeam">
	{{#if currentUser}} 
	<div class="row">
		<div class="large-12 columns">

			<form>
				<input type="text" placeholder="Team Name" name="teamName">
				<input type="text" placeholder="Team Score" name="teamScore">
				<input type="submit" class="button" value="Create team">
			</form>
		</div>
	</div>
	{{else}}
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="totalScore">
	<div class="row">
		<div class="large-12 columns">
			<table class="team-list">
				<thead>
					<tr>
						<th>Team</th>
						<th>Points</th>
					</tr>
				</thead>
				<tbody>
					{{#each teams}}
					{{>teamListItem}}
					{{/each}}
				</tbody>
			</table>
		</div>
	</div>
</template>

<template name="teamListItem">
	<tr class="team-list-item">
		<td>{{name}}</td>
		<td>{{totalScore}}</td>
	</tr>
</template>

<template name="adminTotalScore">
	{{#if currentUser}}
	<div class="row">
		<div class="large-12 columns">
			<a href="/admin/team/new" class="button">New Team</a>
			<table class="team-list">
				<thead>
					<tr>
						<th>Team</th>
						<th>Points</th>
						<th>New Score</th>
						<th>Creator</th>
					</tr>
				</thead>
				<tbody>
					{{#each teams}}
					{{>adminTeamListItem}}
					{{/each}}
				</tbody>
			</table>
		</div>
	</div>
	{{else}}
	{{> notLoggedIn}}
	{{/if}}
</template>

<template name="adminTeamListItem">
	<tr>
		<td>{{name}}</td>
		<td>{{totalScore}}</td>
		<td>
			<form>
				<div class="row collapse">
					<div class="large-10 columns">
						<input id="{{_id}}" type="text" placeholder="Enter new score">
					</div>
					<div class="large-2 columns">
						<a href="#" class="button postfix" data-id="{{_id}}">Set</a>
					</div>
				</div>
			</form>
		</td>
		<td>{{username}}</td>
	</tr>
</template>

<template name="notLoggedIn">
	<div class="row">
		<div class="large-12 columns" style="text-align:center;">
			<h1>Ops it looks like you're not an admin...</h1>
			<h3>Here is a cute cat for the inconvenience:</h3>
			<img src="http://www.lovethispic.com/uploaded_images/44844-Cute-Cat.png">
		</div>
	</div>
</template>